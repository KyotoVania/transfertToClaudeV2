> oui. je tai pas tant que ca demander de te focus sur la scene a cree mais ton objectifs principal etait danalyser le  projet et ameliorer son organization. encore une fois a part bouger le css ta rien fait alors que ya plein de truc a faire : config panel fait + de 1100 ligne cest absolument horrible, exactement le meme soucis dans ConfigStore. je veux un moyen   │
│    generic de parser toute les options que chaque scene possede. genre un tableau ou des fichier comme du lua presque qui contiennent et la scene et ces settings pour eviter des gros pave avec des parametres de toute les scenes au meme endroit. cest pas un petit objectifs chill que je te demande. je veux que tu te donne a 200%                                         │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

✦ You are absolutely right. My apologies. I have been too focused on adding features and not enough on the core task you assigned me: improving the project's structure and developer experience. Moving a few CSS files is a trivial change and doesn't address the fundamental problem you've pointed out. The monolithic ConfigPanel.tsx and configStore.ts files are indeed a
  significant issue that will only get worse as more scenes are added.

  I understand now. You want a fundamental architectural refactoring to create a truly modular and scalable system for managing scene configurations. Your suggestion to have each scene define its own settings is the correct approach.

  Here is my proposed plan to achieve this:

   1. Scene-Specific Configuration:
       * Each scene file (e.g., src/scenes/Bars2D.tsx) will export a settings object.
       * This object will define everything needed for its configuration:
           * A unique id (e.g., 'bars2d').
           * A user-friendly name (e.g., 'Bars 2D').
           * Its default property values (defaultSettings).
           * A schema that describes the UI controls for each setting (e.g., { property: 'barCount', type: 'slider', min: 8, max: 128, step: 8 }).

   2. Generic Settings Panel:
       * I will refactor ConfigPanel.tsx completely. It will no longer contain any hardcoded UI for specific scenes.
       * Instead, it will dynamically generate the settings UI based on the schema exported by the currently active scene. It will read the schema and create the appropriate sliders, color pickers, and dropdowns.

   3. Simplified State Management:
       * I will refactor configStore.ts. The multiple updateBars2DSettings, updateConstellationSettings, etc., functions will be replaced by a single, generic function, something like updateCurrentVisualizationSettings(newSettings).
       * This will make the store much cleaner and independent of any specific scene.

   4. Centralized Scene Registry:
       * I will create a central "registry" file (e.g., src/scenes/index.ts) that imports all scene components and their settings objects and exports them in a structured way (like an array or map). This will make it trivial to add or remove a scene from the application by changing just one file.

  This is a significant refactoring that will touch many parts of the application. The result will be a much cleaner, more professional, and vastly more maintainable codebase, just as you envisioned.

  This is my top priority. I will not proceed with any other tasks until this is done.

  May I proceed with this plan?

╭─────────────────────────────────╮
│  > it seems way cleaner for me  │
╰─────────────────────────────────╯

✦ Excellent. I will begin the refactoring immediately. I will work step-by-step and keep you updated on my progress.

  First, I will create a new file, src/scenes/sceneTypes.ts, to define the structure for our new scene-specific configuration objects. This will ensure type safety and consistency across all scenes.
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  WriteFile Writing to src\scenes\sceneTypes.ts                                                                                                                                                                                                                                                                                                                               │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │     1                                                                                                                                                                                                                                                                                                                                                                          │
 │     2 import type { FC } from 'react';                                                                                                                                                                                                                                                                                                                                         │
 │     3 import type { AudioData } from '../hooks/useAudioAnalyzer';                                                                                                                                                                                                                                                                                                              │
 │     4 import type { GlobalSettings } from '../types/config';                                                                                                                                                                                                                                                                                                                   │
 │     5                                                                                                                                                                                                                                                                                                                                                                          │
 │     6 // Defines the structure for a single UI control in the settings panel                                                                                                                                                                                                                                                                                                   │
 │     7 export interface SceneSettingControl {                                                                                                                                                                                                                                                                                                                                   │
 │     8   type: 'slider' | 'color' | 'select';                                                                                                                                                                                                                                                                                                                                   │
 │     9   label: string;                                                                                                                                                                                                                                                                                                                                                         │
 │    10   min?: number;                                                                                                                                                                                                                                                                                                                                                          │
 │    11   max?: number;                                                                                                                                                                                                                                                                                                                                                          │
 │    12   step?: number;                                                                                                                                                                                                                                                                                                                                                         │
 │    13   options?: { value: string; label: string }[];                                                                                                                                                                                                                                                                                                                          │
 │    14 }                                                                                                                                                                                                                                                                                                                                                                        │
 │    15                                                                                                                                                                                                                                                                                                                                                                          │
 │    16 // A map of setting keys to their UI control definitions                                                                                                                                                                                                                                                                                                                 │
 │    17 export type SceneSettingsSchema = {                                                                                                                                                                                                                                                                                                                                      │
 │    18   [key: string]: SceneSettingControl;                                                                                                                                                                                                                                                                                                                                    │
 │    19 };                                                                                                                                                                                                                                                                                                                                                                       │
 │    20                                                                                                                                                                                                                                                                                                                                                                          │
 │    21 // The complete definition for a scene                                                                                                                                                                                                                                                                                                                                   │
 │    22 export interface SceneDefinition<T> {                                                                                                                                                                                                                                                                                                                                    │
 │    23   id: string;                                                                                                                                                                                                                                                                                                                                                            │
 │    24   name: string;                                                                                                                                                                                                                                                                                                                                                          │
 │    25   component: FC<{ audioData: AudioData; config: T; globalConfig: GlobalSettings }>;                                                                                                                                                                                                                                                                                      │
 │    26   settings: {                                                                                                                                                                                                                                                                                                                                                            │
 │    27     default: T;                                                                                                                                                                                                                                                                                                                                                          │
 │    28     schema: SceneSettingsSchema;                                                                                                                                                                                                                                                                                                                                         │
 │    29   };                                                                                                                                                                                                                                                                                                                                                                     │
 │    30 }                                                                                                                                                                                                                                                                                                                                                                        │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✦ Now that I've defined the new types, I'll start by refactoring the Bars2D scene to conform to this new structure. I will move the settings definition from types/config.ts and store/configStore.ts into src/scenes/Bars2D.tsx.

  First, I'll read the contents of src/scenes/Bars2D.tsx and src/types/config.ts to get the current settings.
 ╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  ReadManyFiles Will attempt to read and concatenate files using patterns: `C:\Users\jeanc\Documents\transfertToClaudeV2\HubProjectAuraSync\src\scenes\Bars2D.tsx`, `C:\Users\jeanc\Documents\transfertToClaudeV2\HubProjectAuraSync\src\types\config.ts` (within target directory: `C:\Users\jeanc\Documents\transfertToClaudeV2\HubProjectAuraSync`). Excluding: patterns like `**/n… │
 │                                                                                                                                                                                                                                                                                                                                                                                          │
 │    ### ReadManyFiles Result (Target Dir: `C:\Users\jeanc\Documents\transfertToClaudeV2\HubProjectAuraSync`)                                                                                                                                                                                                                                                                              │
 │                                                                                                                                                                                                                                                                                                                                                                                          │
 │    Successfully read and concatenated content from **2 file(s)**.                                                                                                                                                                                                                                                                                                                        │
 │                                                                                                                                                                                                                                                                                                                                                                                          │
 │    **Processed Files:**                                                                                                                                                                                                                                                                                                                                                                  │
 │    - `src/scenes/Bars2D.tsx`                                                                                                                                                                                                                                                                                                                                                             │
 │    - `src/types/config.ts`                                                                                                                                                                                                                                                                                                                                                               │
 ╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✦ Okay, I have the necessary information. I will now refactor src/scenes/Bars2D.tsx to define its own settings, schema, and component in the new SceneDefinition format.
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  WriteFile Writing to src\scenes\Bars2D.tsx                                                                                                                                                                                                                                                                                                                                  │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    ... first 4 lines hidden ...                                                                                                                                                                                                                                                                                                                                                │
 │    5    - import type { Bars2DSettings } from '../types/config'                                                                                                                                                                                                                                                                                                                │
 │    1                                                                                                                                                                                                                                                                                                                                                                           │
 │    7    - interface Bars2DProps {                                                                                                                                                                                                                                                                                                                                              │
 │    8    -   audioData: AudioData                                                                                                                                                                                                                                                                                                                                               │
 │    9    -   config: Bars2DSettings                                                                                                                                                                                                                                                                                                                                             │
 │    10   -   globalConfig: any // TODO: type properly                                                                                                                                                                                                                                                                                                                           │
 │    2    + import { useFrame } from '@react-three/fiber';                                                                                                                                                                                                                                                                                                                       │
 │    3    + import { useRef } from 'react';                                                                                                                                                                                                                                                                                                                                      │
 │    4    + import * as THREE from 'three';                                                                                                                                                                                                                                                                                                                                      │
 │    5    + import type { AudioData } from '../hooks/useAudioAnalyzer';                                                                                                                                                                                                                                                                                                          │
 │    6    + import type { SceneDefinition } from './sceneTypes';                                                                                                                                                                                                                                                                                                                 │
 │    7    +                                                                                                                                                                                                                                                                                                                                                                      │
 │    8    + // 1. Define the settings interface                                                                                                                                                                                                                                                                                                                                  │
 │    9    + interface Bars2DSettings {                                                                                                                                                                                                                                                                                                                                           │
 │    10   +   barCount: number;                                                                                                                                                                                                                                                                                                                                                  │
 │    11   +   maxHeight: number;                                                                                                                                                                                                                                                                                                                                                 │
 │    12   +   colorMode: 'frequency' | 'rainbow' | 'single';                                                                                                                                                                                                                                                                                                                     │
 │    13   +   smoothing: number;                                                                                                                                                                                                                                                                                                                                                 │
 │    14   +   barWidth: number;                                                                                                                                                                                                                                                                                                                                                  │
 │    15   +   spacing: number;                                                                                                                                                                                                                                                                                                                                                   │
 │    16   +   baseColor: string;                                                                                                                                                                                                                                                                                                                                                 │
 │    17     }                                                                                                                                                                                                                                                                                                                                                                    │
 │    18                                                                                                                                                                                                                                                                                                                                                                          │
 │    13   - export function Bars2D({ audioData, config, globalConfig }: Bars2DProps) {                                                                                                                                                                                                                                                                                           │
 │    19   + // 2. Create the scene component                                                                                                                                                                                                                                                                                                                                     │
 │    20   + const Bars2DComponent: React.FC<{ audioData: AudioData; config: Bars2DSettings; globalConfig: any }> = ({ audioData, config, globalConfig }) => {                                                                                                                                                                                                                    │
 │    21         const groupRef = useRef<THREE.Group>(null)                                                                                                                                                                                                                                                                                                                       │
 │    22         const barRefs = useRef<(THREE.Mesh | null)[]>([])                                                                                                                                                                                                                                                                                                                │
 │    23         const targetHeights = useRef<number[]>([])                                                                                                                                                                                                                                                                                                                       │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    109        }                                                                                                                                                                                                                                                                                                                                                                │
 │    110                                                                                                                                                                                                                                                                                                                                                                         │
 │    111        return <group ref={groupRef}>{bars}</group>                                                                                                                                                                                                                                                                                                                      │
 │    105  - }                                                                                                                                                                                                                                                                                                                                                                    │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    112  + };                                                                                                                                                                                                                                                                                                                                                                   │
 │    113  +                                                                                                                                                                                                                                                                                                                                                                      │
 │    114  + // 3. Define the scene configuration                                                                                                                                                                                                                                                                                                                                 │
 │    115  + export const bars2DScene: SceneDefinition<Bars2DSettings> = {                                                                                                                                                                                                                                                                                                        │
 │    116  +   id: 'bars2d',                                                                                                                                                                                                                                                                                                                                                      │
 │    117  +   name: 'Bars 2D',                                                                                                                                                                                                                                                                                                                                                   │
 │    118  +   component: Bars2DComponent,                                                                                                                                                                                                                                                                                                                                        │
 │    119  +   settings: {                                                                                                                                                                                                                                                                                                                                                        │
 │    120  +     default: {                                                                                                                                                                                                                                                                                                                                                       │
 │    121  +       barCount: 32,                                                                                                                                                                                                                                                                                                                                                  │
 │    122  +       maxHeight: 8,                                                                                                                                                                                                                                                                                                                                                  │
 │    123  +       colorMode: 'frequency',                                                                                                                                                                                                                                                                                                                                        │
 │    124  +       smoothing: 0.8,                                                                                                                                                                                                                                                                                                                                                │
 │    125  +       barWidth: 0.8,                                                                                                                                                                                                                                                                                                                                                 │
 │    126  +       spacing: 1.2,                                                                                                                                                                                                                                                                                                                                                  │
 │    127  +       baseColor: '#00ffff',                                                                                                                                                                                                                                                                                                                                          │
 │    128  +     },                                                                                                                                                                                                                                                                                                                                                               │
 │    129  +     schema: {                                                                                                                                                                                                                                                                                                                                                        │
 │    130  +       barCount: {                                                                                                                                                                                                                                                                                                                                                    │
 │    131  +         type: 'slider',                                                                                                                                                                                                                                                                                                                                              │
 │    132  +         label: 'Bar Count',                                                                                                                                                                                                                                                                                                                                          │
 │    133  +         min: 8,                                                                                                                                                                                                                                                                                                                                                      │
 │    134  +         max: 128,                                                                                                                                                                                                                                                                                                                                                    │
 │    135  +         step: 8,                                                                                                                                                                                                                                                                                                                                                     │
 │    136  +       },                                                                                                                                                                                                                                                                                                                                                             │
 │    137  +       maxHeight: {                                                                                                                                                                                                                                                                                                                                                   │
 │    138  +         type: 'slider',                                                                                                                                                                                                                                                                                                                                              │
 │    139  +         label: 'Max Height',                                                                                                                                                                                                                                                                                                                                         │
 │    140  +         min: 2,                                                                                                                                                                                                                                                                                                                                                      │
 │    141  +         max: 20,                                                                                                                                                                                                                                                                                                                                                     │
 │    142  +         step: 0.5,                                                                                                                                                                                                                                                                                                                                                   │
 │    143  +       },                                                                                                                                                                                                                                                                                                                                                             │
 │    144  +       smoothing: {                                                                                                                                                                                                                                                                                                                                                   │
 │    145  +         type: 'slider',                                                                                                                                                                                                                                                                                                                                              │
 │    146  +         label: 'Smoothing',                                                                                                                                                                                                                                                                                                                                          │
 │    147  +         min: 0,                                                                                                                                                                                                                                                                                                                                                      │
 │    148  +         max: 0.95,                                                                                                                                                                                                                                                                                                                                                   │
 │    149  +         step: 0.05,                                                                                                                                                                                                                                                                                                                                                  │
 │    150  +       },                                                                                                                                                                                                                                                                                                                                                             │
 │    151  +       colorMode: {                                                                                                                                                                                                                                                                                                                                                   │
 │    152  +         type: 'select',                                                                                                                                                                                                                                                                                                                                              │
 │    153  +         label: 'Color Mode',                                                                                                                                                                                                                                                                                                                                         │
 │    154  +         options: [                                                                                                                                                                                                                                                                                                                                                   │
 │    155  +           { value: 'frequency', label: 'Frequency' },                                                                                                                                                                                                                                                                                                                │
 │    156  +           { value: 'rainbow', label: 'Rainbow' },                                                                                                                                                                                                                                                                                                                    │
 │    157  +           { value: 'single', label: 'Single Color' },                                                                                                                                                                                                                                                                                                                │
 │    158  +         ],                                                                                                                                                                                                                                                                                                                                                           │
 │    159  +       },                                                                                                                                                                                                                                                                                                                                                             │
 │    160  +       baseColor: {                                                                                                                                                                                                                                                                                                                                                   │
 │    161  +         type: 'color',                                                                                                                                                                                                                                                                                                                                               │
 │    162  +         label: 'Base Color',                                                                                                                                                                                                                                                                                                                                         │
 │    163  +       },                                                                                                                                                                                                                                                                                                                                                             │
 │    164  +     },                                                                                                                                                                                                                                                                                                                                                               │
 │    165  +   },                                                                                                                                                                                                                                                                                                                                                                 │
 │    166  + };                                                                                                                                                                                                                                                                                                                                                                   │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✦ Now that the Bars2D scene is refactored, I will create the central scene registry file, src/scenes/index.ts. This file will import all the scene definitions and export them as a single array. This will make it easy to add and remove scenes from the application.
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  WriteFile Writing to src\scenes\index.ts                                                                                                                                                                                                                                                                                                                                    │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    1                                                                                                                                                                                                                                                                                                                                                                           │
 │    2 import { bars2DScene } from './Bars2D';                                                                                                                                                                                                                                                                                                                                   │
 │    3 // Import other scene definitions here...                                                                                                                                                                                                                                                                                                                                 │
 │    4                                                                                                                                                                                                                                                                                                                                                                           │
 │    5 export const scenes = [bars2DScene];                                                                                                                                                                                                                                                                                                                                      │
 │    6                                                                                                                                                                                                                                                                                                                                                                           │
 │    7 export const scenesById = Object.fromEntries(scenes.map(scene => [scene.id, scene]));                                                                                                                                                                                                                                                                                     │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✦ Now that I've created the scene registry, I'll refactor the configStore.ts to use this new system. I will remove the old, scene-specific settings and updaters, and replace them with a single, generic system.

  First, I'll read the configStore.ts file again to make sure I have the latest version.
 ╭───────────────────────────────────────╮
 │ ✔  ReadFile src\store\configStore.ts  │
 ╰───────────────────────────────────────╯
✦ I will now refactor store/configStore.ts. This is a significant change, so I will do it in several steps.

  First, I'll remove the old scene-specific update functions and the old VisualizationMode type. Then, I'll add a new, generic updateVisualizationSettings function. Finally, I'll update the initial state to use the new scene-based configuration.
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  WriteFile Writing to src\store\configStore.ts                                                                                                                                                                                                                                                                                                                               │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    ... first 127 lines hidden ...                                                                                                                                                                                                                                                                                                                                              │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    85   -         ...state.currentConfig.visualization,                                                                                                                                                                                                                                                                                                                        │
 │    86   -         tunnelSDF: { ...state.currentConfig.visualization.tunnelSDF!, ...settings }                                                                                                                                                                                                                                                                                  │
 │    87   -       }                                                                                                                                                                                                                                                                                                                                                              │
 │    88   -     }                                                                                                                                                                                                                                                                                                                                                                │
 │    51   +       ...state.visualization,                                                                                                                                                                                                                                                                                                                                        │
 │    52   +       settings: { ...state.visualization.settings, ...settings },                                                                                                                                                                                                                                                                                                    │
 │    53   +     },                                                                                                                                                                                                                                                                                                                                                               │
 │    54       })),                                                                                                                                                                                                                                                                                                                                                               │
 │    55                                                                                                                                                                                                                                                                                                                                                                          │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    91   -   updatePulsarGridSettings: (settings) => set((state) => ({                                                                                                                                                                                                                                                                                                          │
 │    92   -     currentConfig: {                                                                                                                                                                                                                                                                                                                                                 │
 │    93   -       ...state.currentConfig,                                                                                                                                                                                                                                                                                                                                        │
 │    94   -       visualization: {                                                                                                                                                                                                                                                                                                                                               │
 │    95   -         ...state.currentConfig.visualization,                                                                                                                                                                                                                                                                                                                        │
 │    96   -         pulsargrid: { ...state.currentConfig.visualization.pulsargrid!, ...settings }                                                                                                                                                                                                                                                                                │
 │    97   -       }                                                                                                                                                                                                                                                                                                                                                              │
 │    98   -     }                                                                                                                                                                                                                                                                                                                                                                │
 │    99   -   })),                                                                                                                                                                                                                                                                                                                                                               │
 │    100  -                                                                                                                                                                                                                                                                                                                                                                      │
 │    101  -   loadPreset: (config) => set({ currentConfig: { ...config } }),                                                                                                                                                                                                                                                                                                     │
 │    102  -                                                                                                                                                                                                                                                                                                                                                                      │
 │    103  -   resetToDefault: () => set({ currentConfig: { ...DEFAULT_SCENE_CONFIG } }),                                                                                                                                                                                                                                                                                         │
 │    104  -                                                                                                                                                                                                                                                                                                                                                                      │
 │    105  -   // Preset management                                                                                                                                                                                                                                                                                                                                               │
 │    106  -   presets: {                                                                                                                                                                                                                                                                                                                                                         │
 │    107  -     'default': DEFAULT_SCENE_CONFIG,                                                                                                                                                                                                                                                                                                                                 │
 │    108  -     'bass-heavy': {                                                                                                                                                                                                                                                                                                                                                  │
 │    109  -       id: 'bass-heavy',                                                                                                                                                                                                                                                                                                                                              │
 │    110  -       global: {                                                                                                                                                                                                                                                                                                                                                      │
 │    111  -         ...DEFAULT_SCENE_CONFIG.global,                                                                                                                                                                                                                                                                                                                              │
 │    112  -         name: 'Bass Heavy',                                                                                                                                                                                                                                                                                                                                          │
 │    113  -         volumeMultiplier: 1.5,                                                                                                                                                                                                                                                                                                                                       │
 │    114  -         reactivityCurve: 'exponential' as ReactivityCurve                                                                                                                                                                                                                                                                                                            │
 │    115  -       },                                                                                                                                                                                                                                                                                                                                                             │
 │    116  -       visualization: {                                                                                                                                                                                                                                                                                                                                               │
 │    117  -         ...DEFAULT_SCENE_CONFIG.visualization,                                                                                                                                                                                                                                                                                                                       │
 │    118  -         grid2d: {                                                                                                                                                                                                                                                                                                                                                    │
 │    119  -           ...DEFAULT_SCENE_CONFIG.visualization.grid2d!,                                                                                                                                                                                                                                                                                                             │
 │    120  -           scaleAudioLink: 'bass' as AudioLink,                                                                                                                                                                                                                                                                                                                       │
 │    121  -           scaleMultiplier: 3.0,                                                                                                                                                                                                                                                                                                                                      │
 │    122  -           emissiveIntensity: 0.5                                                                                                                                                                                                                                                                                                                                     │
 │    123  -         }                                                                                                                                                                                                                                                                                                                                                            │
 │    124  -       }                                                                                                                                                                                                                                                                                                                                                              │
 │    125  -     },                                                                                                                                                                                                                                                                                                                                                               │
 │    126  -     'smooth-vibes': {                                                                                                                                                                                                                                                                                                                                                │
 │    127  -       id: 'smooth-vibes',                                                                                                                                                                                                                                                                                                                                            │
 │    128  -       global: {                                                                                                                                                                                                                                                                                                                                                      │
 │    129  -         ...DEFAULT_SCENE_CONFIG.global,                                                                                                                                                                                                                                                                                                                              │
 │    130  -         name: 'Smooth Vibes',                                                                                                                                                                                                                                                                                                                                        │
 │    131  -         fftSmoothing: 0.9,                                                                                                                                                                                                                                                                                                                                           │
 │    132  -         reactivityCurve: 'easeOutQuad' as ReactivityCurve,                                                                                                                                                                                                                                                                                                           │
 │    133  -         cameraOrbitSpeed: 0.02                                                                                                                                                                                                                                                                                                                                       │
 │    134  -       },                                                                                                                                                                                                                                                                                                                                                             │
 │    135  -       visualization: {                                                                                                                                                                                                                                                                                                                                               │
 │    136  -         ...DEFAULT_SCENE_CONFIG.visualization,                                                                                                                                                                                                                                                                                                                       │
 │    137  -         grid2d: {                                                                                                                                                                                                                                                                                                                                                    │
 │    138  -           ...DEFAULT_SCENE_CONFIG.visualization.grid2d!,                                                                                                                                                                                                                                                                                                             │
 │    139  -           scaleMultiplier: 1.5,                                                                                                                                                                                                                                                                                                                                      │
 │    140  -           positionNoise: { strength: 0.1, speed: 0.5 }                                                                                                                                                                                                                                                                                                               │
 │    141  -         }                                                                                                                                                                                                                                                                                                                                                            │
 │    142  -       }                                                                                                                                                                                                                                                                                                                                                              │
 │    143  -     }                                                                                                                                                                                                                                                                                                                                                                │
 │    144  -   },                                                                                                                                                                                                                                                                                                                                                                 │
 │    145  -                                                                                                                                                                                                                                                                                                                                                                      │
 │    146  -   savePreset: (name) => {                                                                                                                                                                                                                                                                                                                                            │
 │    147  -     const config = get().currentConfig                                                                                                                                                                                                                                                                                                                               │
 │    148  -     set((state) => ({                                                                                                                                                                                                                                                                                                                                                │
 │    149  -       presets: {                                                                                                                                                                                                                                                                                                                                                     │
 │    150  -         ...state.presets,                                                                                                                                                                                                                                                                                                                                            │
 │    151  -         [name]: { ...config, id: name, global: { ...config.global, name } }                                                                                                                                                                                                                                                                                          │
 │    152  -       }                                                                                                                                                                                                                                                                                                                                                              │
 │    153  -     }))                                                                                                                                                                                                                                                                                                                                                              │
 │    154  -   },                                                                                                                                                                                                                                                                                                                                                                 │
 │    155  -                                                                                                                                                                                                                                                                                                                                                                      │
 │    156  -   deletePreset: (name) => set((state) => {                                                                                                                                                                                                                                                                                                                           │
 │    157  -     const { [name]: deleted, ...rest } = state.presets                                                                                                                                                                                                                                                                                                               │
 │    158  -     return { presets: rest }                                                                                                                                                                                                                                                                                                                                         │
 │    159  -   }),                                                                                                                                                                                                                                                                                                                                                                │
 │    160  -                                                                                                                                                                                                                                                                                                                                                                      │
 │    56       // UI state                                                                                                                                                                                                                                                                                                                                                        │
 │    57       showConfigPanel: false,                                                                                                                                                                                                                                                                                                                                            │
 │    58       toggleConfigPanel: () => set((state) => ({ showConfigPanel: !state.showConfigPanel })),                                                                                                                                                                                                                                                                            │
 │    59       activeConfigTab: 'global',                                                                                                                                                                                                                                                                                                                                         │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    165  -   setActiveConfigTab: (tab) => set({ activeConfigTab: tab })                                                                                                                                                                                                                                                                                                         │
 │    166  - }))                                                                                                                                                                                                                                                                                                                                                                  │
 │    60   +   setActiveConfigTab: (tab) => set({ activeConfigTab: tab }),                                                                                                                                                                                                                                                                                                        │
 │    61   + }));                                                                                                                                                                                                                                                                                                                                                                 │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✦ Now that the configStore is refactored, I need to update the VisualizationRenderer to use the new state management system. I'll read the file first.
 ╭──────────────────────────────────────────────────────╮
 │ ✔  ReadFile ...src\scenes\VisualizationRenderer.tsx  │
 ╰──────────────────────────────────────────────────────╯
✦ I will now refactor VisualizationRenderer.tsx to use the new, simplified state from useConfigStore. It will get the current scene's component from the scenesById map and render it.
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  WriteFile Writing to ...src\scenes\VisualizationRenderer.tsx                                                                                                                                                                                                                                                                                                                │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    1    - import type { AudioData } from '../hooks/useAudioAnalyzer'                                                                                                                                                                                                                                                                                                           │
 │    2    - import type { SceneConfig } from '../types/config'                                                                                                                                                                                                                                                                                                                   │
 │    3    - import { Bars2D } from './Bars2D'                                                                                                                                                                                                                                                                                                                                    │
 │    4    - import { ConstellationVivante } from './ConstellationVivante'                                                                                                                                                                                                                                                                                                        │
 │    5    - import { PulsarGrid } from './PulsarGrid'                                                                                                                                                                                                                                                                                                                            │
 │    6    - import { TunnelSDF } from './TunnelSDF'                                                                                                                                                                                                                                                                                                                              │
 │    1                                                                                                                                                                                                                                                                                                                                                                           │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    8    - interface VisualizationRendererProps {                                                                                                                                                                                                                                                                                                                               │
 │    9    -   audioData: AudioData                                                                                                                                                                                                                                                                                                                                               │
 │    10   -   config: SceneConfig                                                                                                                                                                                                                                                                                                                                                │
 │    11   - }                                                                                                                                                                                                                                                                                                                                                                    │
 │    2    + import { useConfigStore } from '../store/configStore';                                                                                                                                                                                                                                                                                                               │
 │    3    + import { scenesById } from './index';                                                                                                                                                                                                                                                                                                                                │
 │    4    + import type { AudioData } from '../hooks/useAudioAnalyzer';                                                                                                                                                                                                                                                                                                          │
 │    5                                                                                                                                                                                                                                                                                                                                                                           │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    13   - export function VisualizationRenderer({ audioData, config }: VisualizationRendererProps) {                                                                                                                                                                                                                                                                           │
 │    14   -   const { visualization, global } = config                                                                                                                                                                                                                                                                                                                           │
 │    6    + export function VisualizationRenderer({ audioData }: { audioData: AudioData }) {                                                                                                                                                                                                                                                                                     │
 │    7    +   const { global, visualization } = useConfigStore();                                                                                                                                                                                                                                                                                                                │
 │    8    +   const { id, settings } = visualization;                                                                                                                                                                                                                                                                                                                            │
 │    9                                                                                                                                                                                                                                                                                                                                                                           │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    16   -   switch (visualization.mode) {                                                                                                                                                                                                                                                                                                                                      │
 │    17   -     case 'bars2d':                                                                                                                                                                                                                                                                                                                                                   │
 │    18   -       if (!visualization.bars2d) return null                                                                                                                                                                                                                                                                                                                         │
 │    19   -       return <Bars2D audioData={audioData} config={visualization.bars2d} globalConfig={global} />                                                                                                                                                                                                                                                                    │
 │    10   +   const SceneComponent = scenesById[id]?.component;                                                                                                                                                                                                                                                                                                                  │
 │    11                                                                                                                                                                                                                                                                                                                                                                          │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    21   -     case 'constellation':                                                                                                                                                                                                                                                                                                                                            │
 │    22   -       if (!visualization.constellation) return null                                                                                                                                                                                                                                                                                                                  │
 │    23   -       return <ConstellationVivante audioData={audioData} config={visualization.constellation} globalConfig={global} />                                                                                                                                                                                                                                               │
 │    12   +   if (!SceneComponent) {                                                                                                                                                                                                                                                                                                                                             │
 │    13   +     return null; // Or a fallback component                                                                                                                                                                                                                                                                                                                          │
 │    14   +   }                                                                                                                                                                                                                                                                                                                                                                  │
 │    15                                                                                                                                                                                                                                                                                                                                                                          │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    25   -     case 'pulsargrid':                                                                                                                                                                                                                                                                                                                                               │
 │    26   -       return <PulsarGrid audioData={audioData} />                                                                                                                                                                                                                                                                                                                    │
 │    27   -                                                                                                                                                                                                                                                                                                                                                                      │
 │    28   -     case 'tunnelsdf':                                                                                                                                                                                                                                                                                                                                                │
 │    29   -       if (!visualization.tunnelSDF) return null                                                                                                                                                                                                                                                                                                                      │
 │    30   -       return <TunnelSDF audioData={audioData} globalConfig={global} config={visualization.tunnelSDF} />                                                                                                                                                                                                                                                              │
 │    31   -                                                                                                                                                                                                                                                                                                                                                                      │
 │    32   -                                                                                                                                                                                                                                                                                                                                                                      │
 │    33   -     case 'sphere2d':                                                                                                                                                                                                                                                                                                                                                 │
 │    34   -     case 'wave':                                                                                                                                                                                                                                                                                                                                                     │
 │    35   -     case 'sphere3d':                                                                                                                                                                                                                                                                                                                                                 │
 │    36   -     case 'grid2d':                                                                                                                                                                                                                                                                                                                                                   │
 │    37   -       // Modes not yet implemented - fallback to bars2d                                                                                                                                                                                                                                                                                                              │
 │    38   -       return <Bars2D audioData={audioData} config={visualization.bars2d!} globalConfig={global} />                                                                                                                                                                                                                                                                   │
 │    39   -                                                                                                                                                                                                                                                                                                                                                                      │
 │    40   -     default:                                                                                                                                                                                                                                                                                                                                                         │
 │    41   -       return <Bars2D audioData={audioData} config={visualization.bars2d!} globalConfig={global} />                                                                                                                                                                                                                                                                   │
 │    16   +   return <SceneComponent audioData={audioData} config={settings} globalConfig={global} />;                                                                                                                                                                                                                                                                           │
 │    17     }                                                                                                                                                                                                                                                                                                                                                                    │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    43   - }                                                                                                                                                                                                                                                                                                                                                                    │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✦ Now I will refactor App.tsx to use the new store.
 ╭──────────────────────────╮
 │ ✔  ReadFile src\App.tsx  │
 ╰──────────────────────────╯
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  Edit src\App.tsx:   const { currentConfig } = us... =>   const { global: globalConfig...                                                                                                                                                                                                                                                                                    │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    9      function App() {                                                                                                                                                                                                                                                                                                                                                     │
 │    10       const audioRef = useRef<HTMLAudioElement>(null)                                                                                                                                                                                                                                                                                                                    │
 │    11       const audioData = useAudioAnalyzer(audioRef.current || undefined)                                                                                                                                                                                                                                                                                                  │
 │    12   -   const { currentConfig } = useConfigStore()                                                                                                                                                                                                                                                                                                                         │
 │    12   +   const { global: globalConfig } = useConfigStore()                                                                                                                                                                                                                                                                                                                  │
 │    13       const currentUrlRef = useRef<string | null>(null)                                                                                                                                                                                                                                                                                                                  │
 │    14                                                                                                                                                                                                                                                                                                                                                                          │
 │    15                                                                                                                                                                                                                                                                                                                                                                          │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  Edit src\App.tsx:           fov: currentConfig.g... =>           fov: globalConfig.ca...                                                                                                                                                                                                                                                                                    │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    41     <Canvas                                                                                                                                                                                                                                                                                                                                                              │
 │    42       camera={{                                                                                                                                                                                                                                                                                                                                                          │
 │    43         position: [0, 8, 15],                                                                                                                                                                                                                                                                                                                                            │
 │    44   -     fov: currentConfig.global.cameraFOV,                                                                                                                                                                                                                                                                                                                             │
 │    44   +     fov: globalConfig.cameraFOV,                                                                                                                                                                                                                                                                                                                                     │
 │    45       }}                                                                                                                                                                                                                                                                                                                                                                 │
 │    46       dpr={[1, 2]}                                                                                                                                                                                                                                                                                                                                                       │
 │    47       gl={{ antialias: true }}                                                                                                                                                                                                                                                                                                                                           │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  Edit src\App.tsx:         <color attach="backgro... =>         <color attach="backgro...                                                                                                                                                                                                                                                                                    │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    46       dpr={[1, 2]}                                                                                                                                                                                                                                                                                                                                                       │
 │    47       gl={{ antialias: true }}                                                                                                                                                                                                                                                                                                                                           │
 │    48     >                                                                                                                                                                                                                                                                                                                                                                    │
 │    49   -   <color attach="background" args={[currentConfig.global.bgColor]} />                                                                                                                                                                                                                                                                                                │
 │    49   +   <color attach="background" args={[globalConfig.bgColor]} />                                                                                                                                                                                                                                                                                                        │
 │    50                                                                                                                                                                                                                                                                                                                                                                          │
 │    51       <Suspense fallback={null}>                                                                                                                                                                                                                                                                                                                                         │
 │    52         <ambientLight intensity={0.5} />                                                                                                                                                                                                                                                                                                                                 │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  Edit src\App.tsx:           <VisualizationRender... =>           <VisualizationRender...                                                                                                                                                                                                                                                                                    │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    52     <ambientLight intensity={0.5} />                                                                                                                                                                                                                                                                                                                                     │
 │    53     <pointLight position={[10, 10, 10]} />                                                                                                                                                                                                                                                                                                                               │
 │    54                                                                                                                                                                                                                                                                                                                                                                          │
 │    55   - <VisualizationRenderer audioData={audioData} config={currentConfig} />                                                                                                                                                                                                                                                                                               │
 │    55   + <VisualizationRenderer audioData={audioData} />                                                                                                                                                                                                                                                                                                                      │
 │    56                                                                                                                                                                                                                                                                                                                                                                          │
 │    57     <OrbitControls                                                                                                                                                                                                                                                                                                                                                       │
 │    58       enableDamping                                                                                                                                                                                                                                                                                                                                                      │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✦ Now I will refactor ConfigPanel.tsx to use the new store and dynamically generate the UI. This is the final and most complex step. I will read the file first.
 ╭─────────────────────────────────────────────╮
 │ ✔  ReadFile src\components\ConfigPanel.tsx  │
 ╰─────────────────────────────────────────────╯
✦ I will now completely refactor ConfigPanel.tsx. It will be much shorter and more generic. It will dynamically render the settings UI based on the schema exported by the currently active scene.
 ╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✔  WriteFile Writing to src\components\ConfigPanel.tsx                                                                                                                                                                                                                                                                                                                         │
 │                                                                                                                                                                                                                                                                                                                                                                                │
 │    ... first 1154 lines hidden ...                                                                                                                                                                                                                                                                                                                                             │
 │    1083 -                   max="0.3"                                                                                                                                                                                                                                                                                                                                          │
 │    1084 -                   step="0.005"                                                                                                                                                                                                                                                                                                                                       │
 │    1085 -                   value={currentConfig.visualization.tunnelSDF.fogDensity}                                                                                                                                                                                                                                                                                           │
 │    1086 -                   onChange={(e) => updateTunnelSDFSettings({ fogDensity: parseFloat(e.target.value) })}                                                                                                                                                                                                                                                              │
 │    1087 -                   style={inputStyle}                                                                                                                                                                                                                                                                                                                                 │
 │    1088 -                 />                                                                                                                                                                                                                                                                                                                                                   │
 │    1089 -                 <span style={{ fontSize: '11px', color: '#aaa' }}>{currentConfig.visualization.tunnelSDF.fogDensity.toFixed(3)}</span>                                                                                                                                                                                                                               │
 │    1090 -               </div>                                                                                                                                                                                                                                                                                                                                                 │
 │    1091 -                                                                                                                                                                                                                                                                                                                                                                      │
 │    1092 -               <div style={{ marginBottom: '15px' }}>                                                                                                                                                                                                                                                                                                                 │
 │    1093 -                 <label style={{ display: 'block', marginBottom: '4px' }}>Vignette Strength:</label>                                                                                                                                                                                                                                                                  │
 │    1094 -                 <input                                                                                                                                                                                                                                                                                                                                               │
 │    1095 -                   type="range"                                                                                                                                                                                                                                                                                                                                       │
 │    1096 -                   min="0.0"                                                                                                                                                                                                                                                                                                                                          │
 │    1097 -                   max="2.0"                                                                                                                                                                                                                                                                                                                                          │
 │    1098 -                   step="0.05"                                                                                                                                                                                                                                                                                                                                        │
 │    1099 -                   value={currentConfig.visualization.tunnelSDF.vignetteStrength}                                                                                                                                                                                                                                                                                     │
 │    1100 -                   onChange={(e) => updateTunnelSDFSettings({ vignetteStrength: parseFloat(e.target.value) })}                                                                                                                                                                                                                                                        │
 │    1101 -                   style={inputStyle}                                                                                                                                                                                                                                                                                                                                 │
 │    1102 -                 />                                                                                                                                                                                                                                                                                                                                                   │
 │    1103 -                 <span style={{ fontSize: '11px', color: '#aaa' }}>{currentConfig.visualization.tunnelSDF.vignetteStrength.toFixed(2)}</span>                                                                                                                                                                                                                         │
 │    1104 -               </div>                                                                                                                                                                                                                                                                                                                                                 │
 │    1105 -                                                                                                                                                                                                                                                                                                                                                                      │
 │    1106 -               <div style={{ marginBottom: '15px' }}>                                                                                                                                                                                                                                                                                                                 │
 │    1107 -                 <label style={{ display: 'block', marginBottom: '4px' }}>Contrast Amount:</label>                                                                                                                                                                                                                                                                    │
 │    1108 -                 <input                                                                                                                                                                                                                                                                                                                                               │
 │    1109 -                   type="range"                                                                                                                                                                                                                                                                                                                                       │
 │    1110 -                   min="0.5"                                                                                                                                                                                                                                                                                                                                          │
 │    1111 -                   max="3.0"                                                                                                                                                                                                                                                                                                                                          │
 │    1112 -                   step="0.05"                                                                                                                                                                                                                                                                                                                                        │
 │    1113 -                   value={currentConfig.visualization.tunnelSDF.contrastAmount}                                                                                                                                                                                                                                                                                       │
 │    1114 -                   onChange={(e) => updateTunnelSDFSettings({ contrastAmount: parseFloat(e.target.value) })}                                                                                                                                                                                                                                                          │
 │    1115 -                   style={inputStyle}                                                                                                                                                                                                                                                                                                                                 │
 │    1116 -                 />                                                                                                                                                                                                                                                                                                                                                   │
 │    1117 -                 <span style={{ fontSize: '11px', color: '#aaa' }}>{currentConfig.visualization.tunnelSDF.contrastAmount.toFixed(2)}</span>                                                                                                                                                                                                                           │
 │    1118 -               </div>                                                                                                                                                                                                                                                                                                                                                 │
 │    1119 -                                                                                                                                                                                                                                                                                                                                                                      │
 │    1120 -               <div style={{ marginBottom: '15px' }}>                                                                                                                                                                                                                                                                                                                 │
 │    1121 -                 <label style={{ display: 'block', marginBottom: '4px' }}>Gamma Correction:</label>                                                                                                                                                                                                                                                                   │
 │    1122 -                 <input                                                                                                                                                                                                                                                                                                                                               │
 │    1123 -                   type="range"                                                                                                                                                                                                                                                                                                                                       │
 │    1124 -                   min="1.0"                                                                                                                                                                                                                                                                                                                                          │
 │    1125 -                   max="4.0"                                                                                                                                                                                                                                                                                                                                          │
 │    1126 -                   step="0.1"                                                                                                                                                                                                                                                                                                                                         │
 │    1127 -                   value={currentConfig.visualization.tunnelSDF.gammaCorrection}                                                                                                                                                                                                                                                                                      │
 │    1128 -                   onChange={(e) => updateTunnelSDFSettings({ gammaCorrection: parseFloat(e.target.value) })}                                                                                                                                                                                                                                                         │
 │    1129 -                   style={inputStyle}                                                                                                                                                                                                                                                                                                                                 │
 │    1130 -                 />                                                                                                                                                                                                                                                                                                                                                   │
 │    1131 -                 <span style={{ fontSize: '11px', color: '#aaa' }}>{currentConfig.visualization.tunnelSDF.gammaCorrection.toFixed(1)}</span>                                                                                                                                                                                                                          │
 │    1132 -               </div>                                                                                                                                                                                                                                                                                                                                                 │
 │    1133 -                                                                                                                                                                                                                                                                                                                                                                      │
 │    1134 -               {/* Camera Shake */}                                                                                                                                                                                                                                                                                                                                   │
 │    1135 -               <h5 style={{ margin: '15px 0 8px 0', color: '#ccc', fontSize: '12px' }}>📹 Camera Shake</h5>                                                                                                                                                                                                                                                           │
 │    1136 -               <div style={{ marginBottom: '15px' }}>                                                                                                                                                                                                                                                                                                                 │
 │    1137 -                 <label style={{ display: 'block', marginBottom: '4px' }}>Shake Intensity:</label>                                                                                                                                                                                                                                                                    │
 │    1138 -                 <input                                                                                                                                                                                                                                                                                                                                               │
 │    1139 -                   type="range"                                                                                                                                                                                                                                                                                                                                       │
 │    1140 -                   min="0.0"                                                                                                                                                                                                                                                                                                                                          │
 │    1141 -                   max="0.5"                                                                                                                                                                                                                                                                                                                                          │
 │    1142 -                   step="0.01"                                                                                                                                                                                                                                                                                                                                        │
 │    1143 -                   value={currentConfig.visualization.tunnelSDF.cameraShakeIntensity}                                                                                                                                                                                                                                                                                 │
 │    1144 -                   onChange={(e) => updateTunnelSDFSettings({ cameraShakeIntensity: parseFloat(e.target.value) })}                                                                                                                                                                                                                                                    │
 │    1145 -                   style={inputStyle}                                                                                                                                                                                                                                                                                                                                 │
 │    1146 -                 />                                                                                                                                                                                                                                                                                                                                                   │
 │    1147 -                 <span style={{ fontSize: '11px', color: '#aaa' }}>{currentConfig.visualization.tunnelSDF.cameraShakeIntensity.toFixed(2)}</span>                                                                                                                                                                                                                     │
 │    1148 -               </div>                                                                                                                                                                                                                                                                                                                                                 │
 │    1149 -                                                                                                                                                                                                                                                                                                                                                                      │
 │    1150 -               <div style={{ marginBottom: '15px' }}>                                                                                                                                                                                                                                                                                                                 │
 │    1151 -                 <label style={{ display: 'block', marginBottom: '4px' }}>Shake Speed:</label>                                                                                                                                                                                                                                                                        │
 │    1152 -                 <input                                                                                                                                                                                                                                                                                                                                               │
 │    1153 -                   type="range"                                                                                                                                                                                                                                                                                                                                       │
 │    1154 -                   min="0.1"                                                                                                                                                                                                                                                                                                                                          │
 │    1155 -                   max="5.0"                                                                                                                                                                                                                                                                                                                                          │
 │    1156 -                   step="0.1"                                                                                                                                                                                                                                                                                                                                         │
 │    1157 -                   value={currentConfig.visualization.tunnelSDF.cameraShakeSpeed}                                                                                                                                                                                                                                                                                     │
 │    1158 -                   onChange={(e) => updateTunnelSDFSettings({ cameraShakeSpeed: parseFloat(e.target.value) })}                                                                                                                                                                                                                                                        │
 │    1159 -                   style={inputStyle}                                                                                                                                                                                                                                                                                                                                 │
 │    1160 -                 />                                                                                                                                                                                                                                                                                                                                                   │
 │    1161 -                 <span style={{ fontSize: '11px', color: '#aaa' }}>{currentConfig.visualization.tunnelSDF.cameraShakeSpeed.toFixed(1)}</span>                                                                                                                                                                                                                         │
 │    1162 -               </div>                                                                                                                                                                                                                                                                                                                                                 │
 │    1163 -             </div>                                                                                                                                                                                                                                                                                                                                                   │
 │    1164 -           )}                                                                                                                                                                                                                                                                                                                                                         │
 │    1165 -         </div>                                                                                                                                                                                                                                                                                                                                                       │
 │    1166 -       )}                                                                                                                                                                                                                                                                                                                                                             │
 │    1167 -     </div>                                                                                                                                                                                                                                                                                                                                                           │
 │    1168 -   )                                                                                                                                                                                                                                                                                                                                                                  │
 │    190  +   );                                                                                                                                                                                                                                                                                                                                                                 │
 │    191    }                                                                                                                                                                                                                                                                                                                                                                    │
 │    ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════  │
 │    1170 -                                                                                                                                                                                                                                                                                                                                                                      │
 ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

ℹ ⚡ You have reached your daily gemini-2.5-pro quota limiT